{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kaan\\\\Desktop\\\\root\\\\frontend\\\\src\\\\components\\\\Auth.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios'; // Backend'e istek yapmak için axios kullanıyoruz\nimport './Auth.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Auth = ({\n  setUser\n}) => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState(''); // Hataları tutmak için bir state ekledik\n  const [loading, setLoading] = useState(false);\n  const handleLogin = async () => {\n    setError(''); // Hataları sıfırla\n    setLoading(true); // Yükleme durumunu başlat\n\n    // Form doğrulaması (boş alan kontrolü ve geçerli email kontrolü)\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    if (!email || !password) {\n      setError('Email ve şifre girilmelidir.');\n      setLoading(false);\n      return;\n    }\n    if (!emailRegex.test(email)) {\n      setError('Geçerli bir email girin.');\n      setLoading(false);\n      return;\n    }\n    try {\n      // Backend'e giriş isteği gönderelim\n      const {\n        data\n      } = await axios.post('http://localhost:5000/api/users/login', {\n        email,\n        password\n      });\n\n      // Başarılı olursa, kullanıcıyı localStorage'a kaydet ve ana sayfaya yönlendir\n      localStorage.setItem('userInfo', JSON.stringify(data));\n      setUser(data);\n    } catch (error) {\n      // Hataları göster\n      setError('Geçersiz e-posta veya şifre.');\n    }\n    setLoading(false); // Yükleme durumunu kapat\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"auth-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'red'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 19\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Email\",\n        value: email,\n        onChange: e => setEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Password\",\n        value: password,\n        onChange: e => setPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogin,\n        disabled: loading,\n        children: loading ? 'Logging in...' : 'Login'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        children: \"New user? Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(Auth, \"G/T6+fVRpp/0AVvTYcd6/2PGde0=\");\n_c = Auth;\nexport default Auth;\nvar _c;\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","Auth","setUser","_s","email","setEmail","password","setPassword","error","setError","loading","setLoading","handleLogin","emailRegex","test","data","post","localStorage","setItem","JSON","stringify","className","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","type","placeholder","value","onChange","e","target","onClick","disabled","href","_c","$RefreshReg$"],"sources":["C:/Users/Kaan/Desktop/root/frontend/src/components/Auth.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios'; // Backend'e istek yapmak için axios kullanıyoruz\r\nimport './Auth.css';\r\n\r\nconst Auth = ({ setUser }) => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState(''); // Hataları tutmak için bir state ekledik\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleLogin = async () => {\r\n    setError(''); // Hataları sıfırla\r\n    setLoading(true); // Yükleme durumunu başlat\r\n    \r\n    // Form doğrulaması (boş alan kontrolü ve geçerli email kontrolü)\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!email || !password) {\r\n      setError('Email ve şifre girilmelidir.');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    if (!emailRegex.test(email)) {\r\n      setError('Geçerli bir email girin.');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Backend'e giriş isteği gönderelim\r\n      const { data } = await axios.post(\r\n        'http://localhost:5000/api/users/login',\r\n        { email, password }\r\n      );\r\n      \r\n      // Başarılı olursa, kullanıcıyı localStorage'a kaydet ve ana sayfaya yönlendir\r\n      localStorage.setItem('userInfo', JSON.stringify(data));\r\n      setUser(data);\r\n    } catch (error) {\r\n      // Hataları göster\r\n      setError('Geçersiz e-posta veya şifre.');\r\n    }\r\n\r\n    setLoading(false); // Yükleme durumunu kapat\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"auth-container\">\r\n        <h2>Login</h2>\r\n        {error && <p style={{ color: 'red' }}>{error}</p>} {/* Hata mesajını göster */}\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        <button onClick={handleLogin} disabled={loading}>\r\n          {loading ? 'Logging in...' : 'Login'}\r\n        </button>\r\n        <a href=\"#\">New user? Register</a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}